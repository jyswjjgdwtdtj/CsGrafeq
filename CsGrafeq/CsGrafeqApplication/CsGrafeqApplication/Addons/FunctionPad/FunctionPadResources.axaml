<ResourceDictionary xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:functionPad="clr-namespace:CsGrafeqApplication.Addons.FunctionPad"
                    xmlns:addons="clr-namespace:CsGrafeqApplication.Addons"
                    xmlns:function="clr-namespace:CsGrafeqApplication.Function">
    <DataTemplate x:Key="FunctionPadViewTemplate" DataType="functionPad:FunctionPad">
        <ContentControl>
            <ContentControl.Styles>
                <StyleInclude Source="../CommonStyle.axaml" />
            </ContentControl.Styles>
            <TabControl TabStripPlacement="Left" Name="TabControl" Margin="0" Padding="0"
                        Background="Transparent" VerticalAlignment="Stretch">
                <TabItem>
                    <TabItem.Header>
                        <Viewbox>
                            <Canvas Width="24" Height="24">
                                <Path Classes="FunctionIcon"
                                      Data="M5.525 21Q4.4 21 3.7 20.4T3 18.8q0-.8.425-1.288t1.075-.487q.625 0 1.063.425T6 18.475q0 .125-.012.225t-.038.225q.125-.025.213-.138t.137-.312L7.85 10H6q-.425 0-.712-.287T5 9t.288-.712T6 8h2.225l.525-2.85q.175-.95.938-1.55T11.5 3q1.1 0 1.8.65t.7 1.625q0 .75-.425 1.238T12.5 7q-.625 0-1.062-.425T11 5.525q0-.125.013-.225t.037-.225q-.15.05-.225.15t-.125.3L10.275 8H14q.425 0 .712.288T15 9q0 .375-.238.65t-.587.325l1.325 1.5l1.325-1.5q-.35-.05-.587-.325T16 9q0-.425.288-.712T17 8h3q.425 0 .713.288T21 9t-.288.713T20 10h-.55l-2.625 3l2.625 3H20q.425 0 .713.288T21 17t-.288.713T20 18h-3q-.425 0-.712-.288T16 17q0-.375.238-.65t.587-.325L15.5 14.5l-1.325 1.525q.35.05.588.325T15 17q0 .425-.287.713T14 18h-3q-.425 0-.712-.288T10 17t.288-.712T11 16h.55l2.625-3l-2.625-3H9.9l-1.6 8.6q-.2 1.125-.925 1.763T5.525 21" />
                            </Canvas>
                        </Viewbox>
                    </TabItem.Header>
                    <functionPad:FunctionDisplayer Target="{CompiledBinding .}" />
                </TabItem>
                <TabItem>
                    <TabItem.Header>
                        <Viewbox>
                            <Canvas Width="56" Height="56">
                                <Rectangle Canvas.Left="8" Canvas.Top="8" Width="40" Height="25"
                                           Fill="{DynamicResource MaterialPrimaryMidBrush}" />
                                <Rectangle Canvas.Left="32" Canvas.Top="41" Width="8" Height="7"
                                           Fill="{DynamicResource MaterialPrimaryMidBrush}" />
                                <Path Classes="FunctionIcon"
                                      Data="M12.625 35.5H43.4c4.546 0 6.96-2.32 6.96-6.867v-15.82c0-4.547-2.414-6.868-6.96-6.868H12.624c-4.336 0-6.984 2.32-6.984 6.868v15.82c0 4.547 2.414 6.867 6.984 6.867m-.047-3.516c-2.086 0-3.164-1.101-3.164-3.164V12.625c0-2.062 1.078-3.14 3.164-3.14h30.867c2.063 0 3.141 1.078 3.141 3.14V28.82c0 2.063-1.078 3.164-3.14 3.164Zm23.578 18.07c2.438 0 4.524-1.57 5.297-3.75h7.125c.961 0 1.781-.82 1.781-1.874c0-1.078-.82-1.899-1.781-1.899h-7.125a5.62 5.62 0 0 0-5.297-3.726a5.67 5.67 0 0 0-5.32 3.726H7.539c-1.055 0-1.898.82-1.898 1.899c0 1.054.843 1.875 1.898 1.875h23.297a5.67 5.67 0 0 0 5.32 3.75m0-2.882a2.716 2.716 0 0 1-2.742-2.742c0-1.57 1.195-2.766 2.742-2.766s2.742 1.195 2.742 2.766a2.716 2.716 0 0 1-2.742 2.742" />
                            </Canvas>
                        </Viewbox>
                    </TabItem.Header>
                    <ScrollViewer Name="PART_VariableViewer">
                        <addons:VariablesView />
                    </ScrollViewer>
                </TabItem>
            </TabControl>
        </ContentControl>
    </DataTemplate>
    <DataTemplate x:Key="FunctionPadInfoTemplate" DataType="functionPad:FunctionPad">
        <Border CornerRadius="5">
            <ItemsControl ItemsSource="{CompiledBinding Functions}">
                <ItemsControl.ItemTemplate>
                    <functionPad:ImpFuncShowDataTemplate>
                        <functionPad:ImpFuncShowDataTemplate.ImpFuncDataTemplate>
                            <DataTemplate DataType="function:ImplicitFunction">
                                <Border IsVisible="{CompiledBinding ShowFormula}">
                                    <Border IsVisible="{CompiledBinding !IsDeleted}">
                                        <DockPanel LastChildFill="True">
                                            <Border Width="40" Height="40" DockPanel.Dock="Right">
                                                <Rectangle VerticalAlignment="Center"
                                                           Fill="{CompiledBinding Color,Converter={StaticResource UIntColorToBrush},ConverterParameter=255}"
                                                           Stroke="{DynamicResource CgForegroundBrush}" Width="15"
                                                           Height="15" StrokeThickness="1" />
                                            </Border>
                                            <TextBlock HorizontalAlignment="Right" ClipToBounds="True"
                                                       Text="{CompiledBinding Expression}" VerticalAlignment="Center"
                                                       Foreground="{DynamicResource CgForegroundBrush}" />
                                        </DockPanel>
                                    </Border>
                                </Border>
                            </DataTemplate>
                        </functionPad:ImpFuncShowDataTemplate.ImpFuncDataTemplate>
                    </functionPad:ImpFuncShowDataTemplate>

                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Border>
    </DataTemplate>
</ResourceDictionary>