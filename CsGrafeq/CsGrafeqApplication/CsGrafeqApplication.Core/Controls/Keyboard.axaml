<controls:Keyboard xmlns="https://github.com/avaloniaui"
                   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                   xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                   xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                   xmlns:controls="clr-namespace:CsGrafeqApplication.Core.Controls"
                   xmlns:csGrafeq="clr-namespace:CsGrafeq;assembly=CsGrafeq.Base"
                   mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
                   x:Class="CsGrafeqApplication.Core.Controls.Keyboard">
    <Design.PreviewWith>
        <controls:Keyboard Width="600" Height="400" />
    </Design.PreviewWith>
    <controls:Keyboard.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceInclude Source="/Resources/CustomColorResource.axaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </controls:Keyboard.Resources>
    <controls:Keyboard.Styles>
        <Style Selector="controls|TwoSymbolKeyButton">
            <Setter Property="Focusable" Value="False" />
        </Style>
        <Style Selector="controls|OneSymbolKeyButton">
            <Setter Property="Focusable" Value="False" />
        </Style>
        <Style Selector="controls|TwoSymbolKeyButtonInPlace">
            <Setter Property="Focusable" Value="False" />
        </Style>
        <Style Selector="StackPanel">
            <Setter Property="Focusable" Value="False" />
        </Style>
        <Style Selector="controls|Keyboard">
            <Setter Property="Foreground" Value="{DynamicResource CgForegroundBrush}" />
            <Setter Property="VerticalAlignment" Value="Stretch" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="Template">
                <ControlTemplate>
                    <DockPanel LastChildFill="True">
                        <controls:ExpandBox BorderBrush="{DynamicResource MaterialPrimaryMidBrush}" IsVisible="False"
                                            BorderThickness="0,1,0,0" DockPanel.Dock="Bottom"
                                            DataContext="{x:Static csGrafeq:Setting.Instance}"
                                            IsExpanded="{CompiledBinding ShowKeyboard}" x:DataType="csGrafeq:Setting"
                                            ExpandDirection="Up">
                            <Expander Name="PART_Expander"
                                      Background="{DynamicResource CgTranslucentBackgroundBrush}"
                                      ExpandDirection="Down"
                                      VerticalAlignment="Bottom" IsExpanded="False" Focusable="False">
                                <Expander.Styles>
                                    <Style Selector="Expander /template/ ToggleButton">
                                        <Style Selector="^ /template/ Grid Border">
                                            <Setter Property="RenderTransform">
                                                <RotateTransform Angle="180" />
                                            </Setter>
                                            <Style Selector="^ Path">
                                                <Setter Property="Fill" Value="{DynamicResource CgForegroundBrush}" />
                                            </Style>
                                        </Style>
                                        <Setter Property="Focusable" Value="False" />
                                    </Style>
                                </Expander.Styles>
                                <ToggleButton Name="ToggleKeyboardContainer">
                                    <ToggleButton.Styles>
                                        <Style Selector="ToggleButton#ToggleKeyboardContainer">
                                            <Style Selector="^">
                                                <Setter Property="Template">
                                                    <ControlTemplate>
                                                        <Grid ColumnDefinitions="Auto,40,Auto,40,Auto" HorizontalAlignment="Center">
                                                            <Grid Grid.Column="0" ColumnDefinitions="70,70,70,70" RowDefinitions="35,35,35,35">
                                                                <Grid.Styles>
                                                                    <Style Selector="controls|OneSymbolKeyButton">
                                                                        <Setter Property="FontSize" Value="16"></Setter>
                                                                    </Style>
                                                                    <Style Selector="Button">
                                                                        <Setter Property="Background" Value="{DynamicResource CgBackgroundBrush}" />
                                                                        <Setter Property="CornerRadius" Value="4" />
                                                                        <Setter Property="Focusable" Value="False" />
                                                                        <Setter Property="BorderBrush" Value="{DynamicResource CgForegroundBrush}" />
                                                                        <Setter Property="BorderThickness" Value="1" />
                                                                        <Setter Property="HorizontalAlignment" Value="Stretch" />
                                                                        <Setter Property="Margin" Value="2" />
                                                                        <Setter Property="Padding" Value="0" />
                                                                        <Setter Property="FontFamily" Value="{StaticResource MapleMono}"></Setter>
                                                                    </Style>
                                                                </Grid.Styles>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="0" Button="x"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="0" Button="y"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="0" Button="("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="3" Grid.Row="0" Button=")"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="1" Button="&lt;"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="1" Button="&gt;"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="1" Button="|"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="3" Grid.Row="1" Button="&amp;"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="2" Button="^"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="2" Button="%"></controls:OneSymbolKeyButton>
                                                                
                                                                <Button Grid.Column="2" Grid.Row="2" Name="TrigonometricFunction" Content="Tri">
                                                                    <Button.Flyout>
                                                                        <Flyout>
                                                            <Grid ColumnDefinitions="90,90,90,90" RowDefinitions="35,35,35,35">
                                                                <Grid.Styles>
                                                                    <Style Selector="controls|OneSymbolKeyButton">
                                                                        <Setter Property="FontSize" Value="16"></Setter>
                                                                    </Style>
                                                                </Grid.Styles>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="0" Button="sin("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="0" Button="cos("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="0" Button="tan("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="3" Grid.Row="0" Button="cot("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="1" Button="arcsin("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="1" Button="arccos("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="1" Button="arctan("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="2" Button="sinh("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="2" Button="cosh("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="2" Button="tanh("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="3" Button="arcsinh("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="3" Button="arccosh("></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="3" Button="arctanh("></controls:OneSymbolKeyButton>
                                                            </Grid>
                                                                        </Flyout>
                                                                    </Button.Flyout>
                                                                </Button>
                                                                
                                                                <Button Grid.Column="3" Grid.Row="2" Name="ElseFunction">Func</Button>
                                                                
                                                                <Button Grid.Column="0" Grid.Row="3" Name="SwitchToABC">ABC</Button>
                                                                
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="3" Button=","></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="3" Button="e"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="3" Grid.Row="3" Button="pi"></controls:OneSymbolKeyButton>
                                                            </Grid>
                                                            <Grid Grid.Column="2" ColumnDefinitions="70,70,70,70" RowDefinitions="35,35,35,35">
                                                                <Grid.Styles>
                                                                    <Style Selector="controls|OneSymbolKeyButton">
                                                                        <Setter Property="FontSize" Value="16"></Setter>
                                                                    </Style>
                                                                </Grid.Styles>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="0" Button="7"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="0" Button="8"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="0" Button="9"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="3" Grid.Row="0" Button="/"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="1" Button="4"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="1" Button="5"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="1" Button="6"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="3" Grid.Row="1" Button="*"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="2" Button="1"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="2" Button="2"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="2" Button="3"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="3" Grid.Row="2" Button="-"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="0" Grid.Row="3" Button="0"></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="1" Grid.Row="3" Button="."></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="2" Grid.Row="3" Button="="></controls:OneSymbolKeyButton>
                                                                <controls:OneSymbolKeyButton Grid.Column="3" Grid.Row="3" Button="+"></controls:OneSymbolKeyButton>
                                                            </Grid>
                                                            <Grid Grid.Column="4" ColumnDefinitions="70,70" RowDefinitions="35,35,35,35">
                                                                <Grid.Styles>
                                                                    <Style Selector="Button">
                                                                        <Setter Property="Background" Value="{DynamicResource CgBackgroundBrush}" />
                                                                        <Setter Property="CornerRadius" Value="4" />
                                                                        <Setter Property="Focusable" Value="False" />
                                                                        <Setter Property="BorderBrush" Value="{DynamicResource CgForegroundBrush}" />
                                                                        <Setter Property="BorderThickness" Value="1" />
                                                                        <Setter Property="HorizontalAlignment" Value="Stretch" />
                                                                        <Setter Property="Margin" Value="2" />
                                                                        <Setter Property="Padding" Value="0" />
                                                                        <Setter Property="FontSize" Value="20"></Setter>
                                                                    </Style>
                                                                    <Style Selector="TextBlock">
                                                                        <Setter Property="HorizontalAlignment" Value="Center"></Setter>
                                                                        <Setter Property="VerticalAlignment" Value="Center"></Setter>
                                                                    </Style>
                                                                </Grid.Styles>
                                                                <Button Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="2" IsVisible="False"></Button>
                                                                <Button Grid.Column="0" Grid.Row="1"><TextBlock Text="←"></TextBlock></Button>
                                                                <Button Grid.Column="1" Grid.Row="1" ><TextBlock Text="→"></TextBlock></Button>
                                                                <Button Grid.Column="1" Grid.Row="2" HorizontalAlignment="Right" Width="120"><TextBlock Text="⌫"></TextBlock></Button>
                                                                <Button Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2"><TextBlock Text="↵"></TextBlock></Button>
                                                                
                                                            </Grid>
                                                        </Grid>
                                                    </ControlTemplate>
                                                </Setter>
                                            </Style>
                                        </Style>
                                    </ToggleButton.Styles>
                                </ToggleButton>
                            </Expander>
                        </controls:ExpandBox>
                        <ContentPresenter Content="{TemplateBinding Content}" />
                    </DockPanel>
                </ControlTemplate>
            </Setter>
        </Style>
    </controls:Keyboard.Styles>
</controls:Keyboard>